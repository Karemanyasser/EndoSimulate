<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Profile</title>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Description">
    <meta name="author" content="Author">

    <!-- OG Meta Tags to improve the way the post looks when you share the page on Facebook, Twitter, LinkedIn -->
	<meta property="og:site_name" content="" /> <!-- website name -->
	<meta property="og:site" content="" /> <!-- website link -->
	<meta property="og:title" content=""/> <!-- title shown in the actual shared post -->
	<meta property="og:description" content="" /> <!-- description shown in the actual shared post -->
	<meta property="og:image" content="" /> <!-- image link, make sure it's jpg -->
	<meta property="og:url" content="" /> <!-- where do you want your post to link to -->
	<meta name="twitter:card" content="summary_large_image"> <!-- to have large image post format in Twitter -->

    <!-- Webpage Title -->
    <title>Progress | EndoSimulate</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="css/swiper.css" rel="stylesheet">
	<link href="css/magnific-popup.css" rel="stylesheet">
	<link href="css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="css/Progress.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
	
	<!-- Favicon  -->
    <link rel="icon" href="images/browser-Icon.png">
</head>
 
</head>
<body data-spy="scroll" data-target=".fixed-top">
    <audio id="myAudio"  loop>
        <source src="images/Medical Examination_short.wav" >
         </audio>
    
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark">
        <div class="container"  style="height: 25px;">
            
            <!-- Text Logo - Use this if you don't have a graphic logo -->
            <!-- <a class="navbar-brand logo-text page-scroll" href="index.html">Revo</a> -->
            <!-- Image Logo -->
            <a class="navbar-brand logo-image" href="index.html"><img src="images/Color logo - no background.png" alt="alternative" style="width:45px; height:45px "></a> 
            <p Style="font-size: 24px; text-align: left;">Endo<span style="font-weight: bold; ">Simulate</span></p>
            <button class="navbar-toggler p-0 border-0" type="button" data-toggle="offcanvas">
                <span class="navbar-toggler-icon"></span>
            </button>
                <span class="nav-item social-icons">
                    <span class="fa-stack">
                        <a href="https://github.com/Naira06/EndoSimulate.git">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-github fa-stack-1x"></i>
                        </a>
                    </span>
                </span>
            </div> <!-- end of navbar-collapse -->
        </div> <!-- end of container -->
    </nav> <!-- end of navbar -->
    <!-- end of navigation -->
<div class="container2">
    <div class="user-card">
        <h2>User Profile</h2>
        <h5> Name: <span id="Name"></span></h5>
        <h5> UserID: <span id="UserID"></span></h5>
        <h5> Age: <span id="Age"></span></h5>
        <h5> Academic Year: <span id="AcademicYear"></span></h5>
        <h5> University: <span id="University"></span></h5>

    </div>
    <div class="history-card">
        <h2>Progress History</h2>
        <!-- <p>Finished trac</p>
        <label for="file">Current Track Progress</label>
        <p>Track Name:</p>
        <p>Track Level:</p>
        <progress id="file" value="32" max="100"> 32% </progress>
        
                
            </div>
        </div> -->
    </div>
    
</div>

<script>

const username = sessionStorage.getItem("Username");

console.log("Username: " ,username);

fetch(`/getuser/${username}`)
    .then(response => {
        if (!response.ok){
            throw new Error('Failed to get user');
        }
        return response.json();
    })
    .then(data => {
            const user = data;
            document.getElementById('Name').innerText = user.FirstName +" "+ user.LastName;
            document.getElementById('Age').innerText = user.Age;
            document.getElementById('UserID').innerText = user.UserID;
            document.getElementById('AcademicYear').innerText = user.AcademicYear;
            document.getElementById('University').innerText = user.University;        
    })
    .catch((error) => {
        console.error("Error fetching user:", error);
        alert('Error fetching user');
    });

    

</script>
</body>
</html>
