<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Description">
    <meta name="author" content="Author">

    <!-- OG Meta Tags to improve the way the post looks when you share the page on Facebook, Twitter, LinkedIn -->
	<meta property="og:site_name" content="" /> <!-- website name -->
	<meta property="og:site" content="" /> <!-- website link -->
	<meta property="og:title" content=""/> <!-- title shown in the actual shared post -->
	<meta property="og:description" content="" /> <!-- description shown in the actual shared post -->
	<meta property="og:image" content="" /> <!-- image link, make sure it's jpg -->
	<meta property="og:url" content="" /> <!-- where do you want your post to link to -->
	<meta name="twitter:card" content="summary_large_image"> <!-- to have large image post format in Twitter -->

    <!-- Webpage Title -->
    <title>Registration | EndoSimulate</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="css/swiper.css" rel="stylesheet">
	<link href="css/magnific-popup.css" rel="stylesheet">
	<link href="css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="css/Register.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
	
	<!-- Favicon  -->
    <link rel="icon" href="images/browser-Icon.png">
</head>
<body data-spy="scroll" data-target=".fixed-top">
    <audio id="myAudio"  loop>
        <source src="images/Medical Examination_short.wav" >
         </audio>
    
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark">
        <div class="container" style="height: 25px;">
            
            <!-- Text Logo - Use this if you don't have a graphic logo -->
            <!-- <a class="navbar-brand logo-text page-scroll" href="index.html">Revo</a> -->
            <!-- Image Logo -->
            <a class="navbar-brand logo-image" href="index.html"><img src="images/Color logo - no background.png" alt="alternative" style="width:40px; height:40px; "></a> 
            <p Style="font-size: 24px; text-align: left;">Endo<span style="font-weight: bold; ">Simulate</span></p>
            <button class="navbar-toggler p-0 border-0" type="button" data-toggle="offcanvas">
                <span class="navbar-toggler-icon"></span>
            </button>
                <span class="nav-item social-icons">
                    <span class="fa-stack">
                        <a href="https://github.com/Naira06/EndoSimulate.git">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-github fa-stack-1x"></i>
                        </a>
                    </span>
                </span>
            </div> <!-- end of navbar-collapse -->
        </div> <!-- end of container -->
    </nav> <!-- end of navbar -->
    <!-- end of navigation -->



    <div class="container1">
        <div class="title">Registration</div>
        <div class="content">
          <form id="registrationForm">
            <div class="user-details">
              <div class="input-box">
                <span class="details">First Name</span>
                <input type="text" id="FirstName" name="FirstName" placeholder="Enter your first name" required>
              </div>
              <div class="input-box">
                <span class="details">Last Name</span>
                <input type="text" id="LastName" name="LastName" placeholder="Enter your last name" required>
              </div>
              <div class="input-box">
                <span class="details">Age</span>
                <input type="text" id="Age" name="Age" placeholder="Enter your age" required>
              </div>
              <div class="input-box">
                <span class="details">University</span>
                <input type="text" id="University" name="University" placeholder="Enter your University" required>
              </div>
              <div class="input-box">
                <span class="details">Academic Year</span>
                <select id="AcademicYear" name="AcademicYear" required>
                    <option value="">Select an option</option>
                    <option value="First">First</option>
                    <option value="Second">Second</option>
                    <option value="Third">Third</option>
                    <option value="Fourth">Fourth</option>
                    <option value="Fifth">Fifth</option>
                    <option value="Postgraduate">Postgraduate</option>
                    <option value="Master">Master's Degree</option>
                    <option value="PhD">PhD Degree</option>
                </select>
                <i class="fa fa-chevron-down"></i> <!-- Added dropdown icon -->
            </div>
              <div class="input-box">
                <span class="details">Username</span>
                <input type="text" id="Username" name="Username" placeholder="Enter your username" required>
              </div>

              <div class="input-box">
                <span class="details">UserID</span>
                <input type="text" id="UserID" name="UserID" placeholder="Enter your UserID" required>
              </div>
              
              <div class="input-box">
                <span class="details">Password</span>
                <input type="password" id="Password" name="Password" placeholder="Enter your password" required>
              </div>
              
            </div>
            <div class="gender-details">
              <span class="gender-title">Gender</span>
              <div class="category">
                <label for="male">
                  <input type="radio" id="male" name="Gender" value="male">
                  <span class="gender">Male</span>
                </label>
                <label for="female">
                  <input type="radio" id="female" name="Gender" value="female">
                  <span class="gender">Female</span>
                </label>
              </div>
            </div>
            <div class="button">
              <input type="submit" value="Register">
            </div>
          </form>
        </div>
      </div> 

      <script>

        const form = document.getElementById("registrationForm");
        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          
          const formData = new FormData(form);
          const data = {};
          formData.forEach((value, key) => {
            data[key] = value;
          });
    
          try {
            const response = await fetch("/registration", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(data),
            });
            const result = await response.json();
            alert(result.message); // Show success message
            window.location.href = "Login.html"; // Redirect after successful registration
          } catch (error) {
            console.error("Error:", error);
            alert("Registration failed. Please try again.");
          }
        });

    </script>  
</body>    